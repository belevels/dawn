{% style %}
{%- for product in collections['all'].products -%}
{% assign productCollections = product.collections | map: "handle" %}
  {% if productCollections contains 'esenciales' %} 
    {% comment %} DoSomething {% endcomment %}
    .{{- product.handle -}}.color-background-2 {
      background-color: #F2E8E0;
      background-image: linear-gradient(333deg, rgba(214,197,185,1) 0%, rgba(234,218,202,1) 50%, rgba(243,233,225,1) 100%);
    }
    .{{- product.handle -}}.card .card__informationx {
        background: rgba(234,218,202,.5);
      }
  {% endif %}


  
    {%- if product.metafields.Seccion.CustomColor1 != blank and product.metafields.Seccion.CustomColor2 != blank and product.metafields.Seccion.CustomColor3 != blank -%}
      {%- capture CustomColor1 -%}{{ product.metafields.Seccion.CustomColor1 }}{%- endcapture -%}
      {%- capture CustomColor2 -%}{{ product.metafields.Seccion.CustomColor2 }}{%- endcapture -%}
      {%- capture CustomColor3 -%}{{ product.metafields.Seccion.CustomColor3 }}{%- endcapture -%}
      .{{- product.handle -}}x {
        background-color: {{ CustomColor1 | color_modify: 'alpha', 0.25 }};
        background-image: linear-gradient(333deg, {{ CustomColor1 | color_modify: 'alpha', 0.25 | color_to_rgb }} 0%, {{ CustomColor2 | color_modify: 'alpha', 0.25 | color_to_rgb }} 50%, {{ CustomColor3 | color_modify: 'alpha', 0.25 | color_to_rgb }} 100%);
      }
      .{{- product.handle -}}.card * {
        --color-icon: #ffffff;
        color: #ffffff;
      }
      .{{- product.handle -}}::before {
        content: '';
        width: 18%;
        height: 18%;
        position: absolute;
        background-color: {{ CustomColor1 | color_modify: 'alpha', 0 | color_to_rgb }};
        background-image: url( '{{ product.handle | append: '.svg' | asset_url }}' );
        background-size: contain;
        background-repeat: no-repeat;
        top: 5%;
        left: 5%;
        z-index: 1;
      }
      .{{- product.handle -}}::after {
        content: '';
        width: 100%;
        height: 100%;
        position: absolute;
        background-color: {{ CustomColor1 | color_modify: 'alpha', 0 | color_to_rgb }};
        background-image: url( '{{ product.handle | append: '.svg' | asset_url }}' );
        background-size: contain;
        background-repeat: no-repeat;
        top: 0%;
        left: 0%;
        opacity: 0.125;
      }      
      .{{- product.handle -}}.card .card__informationx,
      .{{- product.handle -}}.card .quick-addx {
        background: {{ CustomColor1 | color_modify: 'alpha', 0.25 }};
        margin: 0;
        padding: 1.3rem;
      }
    {%- endif -%}
  {%- endfor -%}
{% endstyle %}