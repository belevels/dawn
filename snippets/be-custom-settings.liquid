{% style %}
{%- for product in collections['all'].products -%}
{% assign productCollections = product.collections | map: "handle" %}
  {% if productCollections contains 'esenciales' %} 
    {% comment %} DoSomething {% endcomment %}
    .{{- product.handle -}}.color-background-2 {
      background-color: #F2E8E0;
      background-image: radial-gradient(circle, rgba(214,196,186,1) 0%, rgba(235,217,201,1) 50%, rgba(242,232,224,1) 100%);
    }
  {% endif %}


  
    {%- if product.metafields.Seccion.CustomColor1 != blank and product.metafields.Seccion.CustomColor2 != blank and product.metafields.Seccion.CustomColor3 != blank -%}
      {%- capture CustomColor1 -%}{{ product.metafields.Seccion.CustomColor1 }}{%- endcapture -%}
      {%- capture CustomColor2 -%}{{ product.metafields.Seccion.CustomColor2 }}{%- endcapture -%}
      {%- capture CustomColor3 -%}{{ product.metafields.Seccion.CustomColor3 }}{%- endcapture -%}
      .{{- product.handle -}} {
        background-color: {{ CustomColor1 }};
        background-image: radial-gradient(circle, {{ CustomColor3 | color_modify: 'alpha', 1 | color_to_rgb }} 0%, {{ CustomColor2 | color_modify: 'alpha', 1 | color_to_rgb }} 50%, {{ CustomColor1 | color_modify: 'alpha', 1 | color_to_rgb }} 100%);
      }
      .{{- product.handle -}}.card * {
        --color-icon: #ffffff;
        color: #ffffff;
      }
      .{{- product.handle -}}::before {
        content:  '';
        width: 100%;
        height: 100%;
        position: absolute;
        background-image: url( '{{ product.handle | append: '.svg' | asset_url }}' );
        background-size: 80%;
        background-position: left top;
        background-repeat: no-repeat;
      }
      .{{- product.handle -}}.card .card__information {
        background: {{ CustomColor1 }};
      }
    {%- endif -%}
  {%- endfor -%}
{% endstyle %}